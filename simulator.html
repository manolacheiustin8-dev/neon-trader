 <!DOCTYPE html>
<html lang="ro">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>NEON TRADER SIMULATOR</title>

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Orbitron:wght@600;800&display=swap" rel="stylesheet">

<!-- Favicon neon -->
<link rel="icon" type="image/svg+xml" href="data:image/svg+xml,
<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'>
<rect width='100' height='100' rx='20' fill='black'/>
<text x='50' y='62' font-size='45' text-anchor='middle' fill='#00ffc8' font-family='Orbitron'>N</text>
</svg>">

<style>
:root{
  --bg:#071018;
  --panel:#081522cc;
  --neon-green:#00ff9c;
  --neon-gold:#ffd166;
  --neon-blue:#37b8ff;
  --muted:#9aa7b2;
  --glass-border: 1px solid rgba(255,255,255,0.04);
  --radius:12px;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;background:linear-gradient(180deg,#02060b 0%, #071018 100%);font-family:Inter,system-ui,Segoe UI,Roboto,'Helvetica Neue',Arial; color:#e6f0f3; -webkit-font-smoothing:antialiased;}
h1{font-family:Orbitron, Inter; font-weight:800; color:var(--neon-gold); margin:18px 0 8px; text-align:center; letter-spacing:1px}

/* App layout */
#app{display:flex;height:calc(100vh - 40px);width:calc(100vw - 40px);margin:20px;gap:18px}
#left{flex:1.9;display:flex;flex-direction:column;border-radius:var(--radius);overflow:hidden;box-shadow:0 10px 40px rgba(0,0,0,0.7), inset 0 1px 0 rgba(255,255,255,0.02)}
#right{flex:0.95;background:var(--panel);border-radius:var(--radius);padding:18px; display:flex;flex-direction:column; gap:12px; border:var(--glass-border); box-shadow:0 10px 30px rgba(0,0,0,0.6)}

/* Header & branding */
.header{display:flex;align-items:center;justify-content:space-between;padding:14px 18px;background:linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.00));border-bottom:1px solid rgba(255,255,255,0.02)}
.brand{display:flex;align-items:center;gap:12px}
.logo{width:46px;height:46px;border-radius:10px;background:linear-gradient(135deg,var(--neon-green),var(--neon-gold));display:flex;align-items:center;justify-content:center;color:#021;font-weight:800; box-shadow:0 4px 18px rgba(0,255,156,0.1), 0 0 20px rgba(255,209,102,0.05)}
.brand h1{font-size:16px;margin:0;color:var(--neon-gold)}
.header .meta{color:var(--muted);font-size:13px}

/* Chart container */
#chartWrap{flex:1;position:relative;background:linear-gradient(180deg,rgba(255,255,255,0.01), rgba(255,255,255,0.00));}
#chart{width:100%;height:100%;display:block}
.topControls{position:absolute;top:12px;left:12px;display:flex;gap:10px;z-index:20}
.select, .smallBtn{background:rgba(0,0,0,0.45);border:1px solid rgba(255,255,255,0.03);padding:8px 10px;border-radius:8px;color:var(--muted);font-size:13px;backdrop-filter: blur(6px);}
.smallBtn{cursor:pointer}
.smallBtn:hover{box-shadow:0 6px 20px rgba(0,0,0,0.5)}

/* Right panel */
.panelCard{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border:1px solid rgba(255,255,255,0.03); padding:14px; border-radius:10px;}
.balance{font-weight:700;font-size:18px;color:var(--neon-gold); text-align:center; padding:12px; border-radius:10px; background:linear-gradient(0deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00)); box-shadow: inset 0 -6px 30px rgba(0,0,0,0.4)}
.kpi{display:flex;gap:10px;justify-content:space-between;margin-top:8px;color:var(--muted);font-size:13px}

/* Trade box */
.tradeBox{display:flex;flex-direction:column;gap:10px;margin-top:6px}
.input, .select{width:100%}
.input{padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);background:transparent;color:var(--neon-gold);font-weight:600;font-size:14px}
.actionRow{display:flex;gap:10px}
.btn{flex:1;padding:11px;border-radius:10px;border:0;font-weight:700;cursor:pointer;font-size:14px;box-shadow:0 4px 18px rgba(0,0,0,0.5);transition:transform .12s ease, box-shadow .12s ease;}
.btn:active{transform:translateY(1px)}
.btnBuy{background:linear-gradient(90deg,var(--neon-green), #5dffb1); color:#022; text-shadow:0 1px 0 rgba(255,255,255,0.02); box-shadow:0 8px 30px rgba(0,255,156,0.12), 0 0 28px rgba(0,255,156,0.06)}
.btnSell{background:linear-gradient(90deg,#ff6b6b, #f44336); color:#fff; box-shadow:0 8px 30px rgba(244,67,54,0.10)}

/* History list */
.historyRow{display:flex;justify-content:space-between;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.02);margin-bottom:8px;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent)}
.historyRow small{color:var(--muted)}

/* Neon markers */
.markerPulse{position:absolute; width:30px;height:30px;border-radius:50%; display:flex;align-items:center;justify-content:center;color:#021;font-weight:800;transform:translate(-50%,-50%); pointer-events:none; z-index:15; box-shadow:0 0 20px rgba(0,255,156,0.12), inset 0 2px 4px rgba(255,255,255,0.05);animation:pulse 900ms ease-out forwards;}
.markerBuy{background:linear-gradient(135deg,var(--neon-green), rgba(0,255,156,0.45))}
.markerSell{background:linear-gradient(135deg,var(--neon-gold), rgba(255,209,102,0.12)); color:#031}
@keyframes pulse{0%{transform:translate(-50%,-50%) scale(0.4);opacity:0}50%{transform:translate(-50%,-50%) scale(1.15);opacity:1}100%{transform:translate(-50%,-50%) scale(1);opacity:1}}

/* Tooltip */
.tooltip{position:absolute;padding:8px 10px;background:rgba(2,6,12,0.9);border-radius:6px;border:1px solid rgba(255,255,255,0.03);font-size:13px;color:var(--neon-blue);pointer-events:none;transform:translate(-50%,-140%);white-space:nowrap;z-index:30;opacity:0;transition:opacity .12s}

/* Responsive */
@media(max-width:1000px){
  #app{flex-direction:column;padding:12px}
  #left,#right{flex:unset;width:100%}
  #right{order:2}
}
</style>
</head>
<body>

<h1>NEON TRADER SIMULATOR</h1>

<div id="app">
  <!-- Left: Chart -->
  <div id="left">
    <div class="header">
      <div class="brand">
        <div class="logo">NT</div>
        <div>
          <div style="font-weight:800;color:var(--neon-gold)">BTC / USD</div>
          <div style="font-size:12px;color:var(--muted)">Live • Demo Mode</div>
        </div>
      </div>
      <div class="meta">Simulated & Realistic</div>
    </div>
    <div id="chartWrap">
      <div class="topControls">
        <select id="selSymbol" class="select">
          <option value="BTCUSD">BTC / USD</option>
        </select>
        <select id="selInterval" class="select">
          <option value="1">1m</option>
          <option value="5">5m</option>
        </select>
        <button id="btnMA" class="smallBtn">MA10</button>
        <button id="btnReset" class="smallBtn">Reset</button>
      </div>
      <div id="chart"></div>
      <div id="tooltip" class="tooltip"></div>
    </div>
  </div>

  <!-- Right: Panel -->
  <div id="right">
    <div class="panelCard balance">
      <div style="font-size:13px;color:var(--muted)">Account</div>
      <div id="balanceText" style="margin-top:6px;font-size:20px">USD <span style="color:var(--neon-gold)">$1000.00</span> • BTC <span style="color:var(--neon-green)">0.00000</span></div>
      <div class="kpi">
        <div>Equity <div style="font-weight:700;color:var(--neon-blue)">$1000</div></div>
        <div>Open <div style="font-weight:700;color:var(--muted)">0</div></div>
      </div>
    </div>

    <div class="panelCard tradeBox">
      <label style="font-size:12px;color:var(--muted)">Amount to trade (USD)</label>
      <input id="tradeAmount" class="input" type="text" placeholder="Ex: 100" />
      <div class="actionRow">
        <button id="buyBtn" class="btn btnBuy">BUY</button>
        <button id="sellBtn" class="btn btnSell">SELL</button>
      </div>
    </div>

    <div class="panelCard" style="flex:1;overflow:auto">
      <h3 style="margin:0 0 8px;color:var(--neon-gold)">Trade History</h3>
      <div id="historyList" style="max-height:360px;overflow:auto"></div>
    </div>
  </div>
</div>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/lightweight-charts@3/dist/lightweight-charts.standalone.production.js"></script>
<script>
const chartDiv = document.getElementById('chart');
const tooltip = document.getElementById('tooltip');
const balanceText = document.getElementById('balanceText');
const historyList = document.getElementById('historyList');

const chart = LightweightCharts.createChart(chartDiv,{
  layout:{background:'#071018',textColor:'#cfeff6'},
  timeScale:{borderColor:'rgba(255,255,255,0.03)'},
  rightPriceScale:{borderColor:'rgba(255,255,255,0.03)'},
  crosshair:{mode: LightweightCharts.CrosshairMode.Normal},
  handleScroll:{mouseWheel:true,pressedMouseMove:true},
  handleScale:{axisPressedMouseMove:true,pinch:true}
});
const candleSeries = chart.addCandlestickSeries({
  upColor:'#00ff9c', downColor:'#ffb86b', borderVisible:true, wickVisible:true, borderColor:'#ffffff10', wickColor:'#ffffff10'
});
const maSeries = chart.addLineSeries({ color:'#ffd166', lineWidth:2 });

let data = [];
let lastTime = Math.floor(Date.now()/1000/60)*60;
let balanceUSD=1000, balanceBTC=0;
let trades=[], markers=[];
function formatNumber(n,dec=2){return Number(n).toFixed(dec);}
function updateBalanceUI(){
  balanceText.innerHTML=`USD <span style="color:var(--neon-gold)">$${formatNumber(balanceUSD,2)}</span> • BTC <span style="color:var(--neon-green)">${formatNumber(balanceBTC,5)}</span>`;
}

function seedData(){
  data=[]; let price=58000 + Math.random()*4000;
  for(let i=60;i>0;i--){
    const t=lastTime-i*60;
    const open=price;
    const close=open+(Math.random()-0.5)*1200;
    const high=Math.max(open,close)+Math.random()*200;
    const low=Math.min(open,close)-Math.random()*200;
    data.push({time:t,open,high,low,close});
    price=close;
  }
  candleSeries.setData(data);
  maSeries.setData(calcMA(10));
}
seedData();

function calcMA(period=10){
  if(data.length<period) return [];
  const ma=[];
  for(let i=period-1;i<data.length;i++){
    let sum=0;
    for(let j=0;j<period;j++) sum+=data[i-j].close;
    ma.push({time:data[i].time,value:sum/period});
  }
  return ma;
}

function appendBar(){
  const last=data[data.length-1];
  const t=last.time+(parseInt(document.getElementById('selInterval').value)||1)*60;
  const open=last.close;
  const close=open+(Math.random()-0.5)*1400;
  const high=Math.max(open,close)+Math.random()*300;
  const low=Math.min(open,close)-Math.random()*300;
  const bar={time:t,open,high,low,close};
  data.push(bar);
  if(data.length>200) data.shift();
  candleSeries.setData(data);
  maSeries.setData(calcMA(10));
  lastTime=t;
}
let liveTimer=setInterval(appendBar,2000);

function execute(type){
  const amtRaw=document.getElementById('tradeAmount').value.trim();
  const amt=parseFloat((amtRaw||'0').replace(/,/g,'')); if(!amt||amt<=0){alert('Introduce o sumă validă');return;}
  const last=data[data.length-1]; const price=last.close;
  if(type==='Buy'){
    if(amt>balanceUSD){alert('Fonduri insuficiente');return;}
    const btc=amt/price; balanceUSD-=amt; balanceBTC+=btc;
    const trade={time:last.time,type:'Buy',price,usd:amt,btc}; trades.push(trade); addHistoryRow(trade);
  }else{
    const btcNeeded=amt/price; if(btcNeeded>balanceBTC){alert('Nu ai suficient BTC');return;}
    balanceBTC-=btcNeeded; balanceUSD+=amt;
    const trade={time:last.time,type:'Sell',price,usd:amt,btc:btcNeeded}; trades.push(trade); addHistoryRow(trade);
  }
  updateBalanceUI();
}

function addHistoryRow(tr){
  const row=document.createElement('div'); row.className='historyRow';
  row.innerHTML=`
    <div><strong style="color:${tr.type==='Buy'? 'var(--neon-green)':'var(--neon-gold)'}">${tr.type}</strong>
    <div><small>${new Date(tr.time*1000).toLocaleTimeString()}</small></div></div>
    <div style="text-align:right">
    <div><strong>${tr.usd.toFixed(2)} USD</strong></div>
    <div><small>${tr.btc.toFixed(5)} BTC • @ ${tr.price.toFixed(2)}</small></div>
    </div>
  `;
  historyList.prepend(row);
  if(historyList.children.length>80) historyList.removeChild(historyList.lastChild);
}

document.getElementById('buyBtn').addEventListener('click',()=>execute('Buy'));
document.getElementById('sellBtn').addEventListener('click',()=>execute('Sell'));
document.getElementById('btnReset').addEventListener('click',()=>{
  trades=[]; markers=[]; candleSeries.setMarkers([]); historyList.innerHTML=''; balanceUSD=1000; balanceBTC=0; seedData(); updateBalanceUI();
});
document.getElementById('btnMA').addEventListener('click',()=>{
  const shown=maSeries.options().visible;
  maSeries.applyOptions({visible:!shown});
});

updateBalanceUI();
</script>
</body>
</html>
